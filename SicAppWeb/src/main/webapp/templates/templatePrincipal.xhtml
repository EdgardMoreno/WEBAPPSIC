<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
        <meta name="description" content=""/>
        <meta name="author" content=""/>
        <title>SIC CONSULTAS</title>
        <link rel="icon" href="#{request.contextPath}/faces/resources/img/favicon2.png"></link>
        

        <!--CSS STYLE -->        
        <h:outputStylesheet name="/css/bootstrap.min.css"/>
        <h:outputStylesheet name="/css/customizer.css"/>
        <h:outputStylesheet name="/css/jquery-confirm-3.3.css"/>
        <h:outputStylesheet name="/css/jquery.fancybox-2.1.7.css"/>        
        <h:outputStylesheet name="/css/sb-admin-2.css"/>
        <h:outputStylesheet name="css/default.css" />
        

<!--<link rel="stylesheet" href="#{request.contextPath}/faces/resources/css/bootstrap-theme.min.css"/>-->        

        <!--JAVASCRIPT-->        
        <script src="#{request.contextPath}/faces/resources/js/jquery-3.2.1.min.js"></script>
        <script src="#{request.contextPath}/faces/resources/js/bootstrap.min.js"></script>
        <script src="#{request.contextPath}/faces/resources/js/jquery-ui.js" />
        
        <script src="#{request.contextPath}/faces/resources/js/jquery.fancybox-2.1.7.js"></script>
        <script src="#{request.contextPath}/faces/resources/js/jquery-confirm-3.3.js"></script>
        <script src="#{request.contextPath}/faces/resources/js/customizerJS.js"></script>

        <!--Gestor de iconos -->
        <script src="#{request.contextPath}/faces/resources/js/fontawesome/fontawesome-all.js"></script>
        
        

        <title>Facelets Template</title>

        <style>
            
            .idDivDisplayUser{
                
                position:relative;
                margin: 3px;
                width: auto;
                float:right;
                top: 0px;
                text-align: left;
                font-weight: bolder;
            }
            
             #nonAjaxLoad {
                                          
                position: fixed;
                z-index: 999;
                height: 2em;
                width: 2em;             
                overflow: show;
                margin: auto;
                top: 0;
                left: 0;       
                bottom: 0;
                right: 0;
                
                background-color: rgba(192, 192, 192, 0.5);
                background-repeat: no-repeat;
                background-position: center;
            }
            
        </style>                
      

        <div id="header">
            <ui:insert name="header"></ui:insert>
        </div>
        
    </h:head>
    
    <script type="text/javascript">
        
        /*window.history.forward();
        function noBack()
        {
            window.history.forward();
        }*/
        
        /*Funcion de Jquery para el datePicker*/
        $(function(){
            $(".datepicker" ).datepicker({dateFormat: 'dd/mm/yy'});
        });
        
    </script>
    
    <body>
        
        <div id="nonAjaxLoad">
            <img src="#{request.contextPath}/faces/resources/img/loading_page.gif"/>
        </div>
        
        <h:form id="form">
            
            <nav class="navbar navbar-inverse">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <a class="navbar-brand" href="#">MINCETUR</a>
                    </div>
                    <ul class="nav navbar-nav">                        
                        
                        <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Expedientes<span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <!--<li><a href="#{request.contextPath}/faces/listarExpedientes.xhtml">Reporte Expedientes</a></li>-->
                                <li>
                                    <h:commandLink value="Reporte de Expedientes" actionListener="#{masterPageController.validarDatos()}" action="#{masterPageController.irPagina()}" >
                                       <f:param name="paramNombrePagina" value="faces/listarExpedientes" />
                                       <f:param name="paramTituloPagina" value="Reporte de Expedientes" />
                                    </h:commandLink>
                                </li>
                            </ul>
                        </li>
                        
                        <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Máquinas<span class="caret"></span></a>
                            <ul class="dropdown-menu">                                
                                <li>
                                    <h:commandLink value="Reporte de Máquinas" actionListener="#{masterPageController.validarDatos()}" action="#{masterPageController.irPagina()}" >
                                        <f:param name="paramNombrePagina" value="faces/listarMaquinas" />
                                        <f:param name="paramTituloPagina" value="Reporte de Maquinas" />
                                    </h:commandLink>
                                </li>
                            </ul>
                        </li>
                        
                        <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Reportes<span class="caret"></span></a>
                            <ul class="dropdown-menu">                                
                                <li>
                                    <h:commandLink value="Graficos" actionListener="#{masterPageController.validarDatos()}" action="#{masterPageController.irPagina()}" >
                                        <f:param name="paramNombrePagina" value="faces/reportes" />
                                    </h:commandLink>
                                </li>
                                <li>
                                    <h:commandLink value="Reporte Expedientes Atendidos" actionListener="#{masterPageController.validarDatos()}" action="#{masterPageController.irPagina()}" >
                                        <f:param name="paramNombrePagina" value="faces/rptExpeAtendidos" />
                                    </h:commandLink>
                                </li>
                                <li>
                                    <h:commandLink value="Reporte Salas" actionListener="#{masterPageController.validarDatos()}" action="#{masterPageController.irPagina()}" >
                                        <f:param name="paramNombrePagina" value="faces/listarSalas" />
                                    </h:commandLink>
                                </li>
                            </ul>
                        </li>
                       
                    </ul>
                    <ul class="nav navbar-nav navbar-right">                        
                        
                        <li>
                            <h:commandLink action="#{masterPageController.logout()}" >
                                <span class="glyphicon glyphicon-user"></span> Salir
                            </h:commandLink>
                        </li>
                        <!--<li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>-->
                    </ul>
                </div>
            </nav>
            
            <div class="idDivDisplayUser">
                <table>
                    <tr>
                        <td style="text-align: center">Bienvenido:</td>
                        <td style="text-align: right">#{masterPageController.desLoginUser}</td>
                    </tr>                    
                </table>                   
            </div>  
            
            <div id="content">
                <ui:insert name="content"></ui:insert>
            </div>

            <div id="footer">
            </div>

        </h:form>
        
        <script>
            $(document).ready(function(){
                $('#nonAjaxLoad').hide();
            });           
            
            $(window).bind('beforeunload', function() {
                $('#nonAjaxLoad').show(); 
            });            
            
        </script>
        
    </body>
</html>
